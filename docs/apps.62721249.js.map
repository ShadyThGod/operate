{"version":3,"sources":["apps/settings/index.js","apps/notepad/index.js","apps/calculator/index.js","apps/index.js"],"names":["settingsWindowContent","document","createRange","createContextualFragment","applySettings","bgImg","querySelector","files","undefined","body","style","backgroundImage","window","URL","createObjectURL","applySettingsAndClose","e","target","closest","_windowClass","removeFromDOM","closeWindow","settingsWindow","title","id","content","customCSS","settingsWindowCSS","eventListeners","type","handler","element","module","exports","notepadWindowContent","notepadWindow","notepadWindowCSS","size","height","minHeight","calculatorWindowContent","calcKeyPress","State","focused_window_id","console","log","key","preventDefault","getElementById","click","number_regex","is_number","RegExp","test","is_char","is_operator","activeElement","ctrlKey","select","Calculator","lhs","value","buttonPress","classList","contains","indexOf","innerHTML","rhs","operation","history","updateHistory","current_value","substring","length","startCalc","dataset","operator","result","calculate","parseFloat","toString","toFixed","push","forEach","calculation","onLoad","addEventListener","checked","add","remove","calculatorWindow","calculatorCSS","onLoadFunction","require"],"mappings":"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","file":"apps.62721249.js","sourceRoot":"..\\src","sourcesContent":["/**\r\n * Settings Window\r\n */\r\n\r\nimport * as settingsWindowCSS from './settings.scss';\r\n\r\nlet settingsWindowContent = document.createRange().createContextualFragment(`\r\n    <div class=\"settings\">\r\n        <div id=\"background-setting\" class=\"setting\">\r\n            <div class=\"label\" style=\"flex-grow: 100\">\r\n                Background Image:\r\n            </div>\r\n            <div class=\"input\" style=\"flex-grow: 1\">\r\n                <label for=\"bg-file\" style=\"width: fit-content\" class=\"button\">Browse...</label>\r\n                <input type=\"file\" name=\"bg-file\" id=\"bg-file\" accept=\"image/*\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"buttons\">\r\n        <div class=\"cancel-button button\">Cancel</div>\r\n        <div class=\"apply-button button\">Apply</div>\r\n        <div class=\"ok-button button\">OK</div>\r\n    </div>\r\n`);\r\n\r\nfunction applySettings() {\r\n    let bgImg = document.querySelector('#bg-file').files || undefined;\r\n    if (bgImg !== undefined) {\r\n        document.body.style.backgroundImage = `url(${window.URL.createObjectURL(bgImg[0])})`;\r\n    }\r\n}\r\n\r\nfunction applySettingsAndClose(e) {\r\n    applySettings();\r\n    e.target.closest('.window')._windowClass.removeFromDOM();\r\n}\r\n\r\nfunction closeWindow(e) {\r\n    e.target.closest('.window')._windowClass.removeFromDOM();\r\n}\r\n\r\nlet settingsWindow = {\r\n    title: 'Settings',\r\n    id: 'settings',\r\n    content: settingsWindowContent,\r\n    customCSS: settingsWindowCSS,\r\n    eventListeners: [{\r\n        type: 'click',\r\n        handler: applySettings,\r\n        element: '.apply-button'\r\n    }, {\r\n        type: 'click',\r\n        handler: applySettingsAndClose,\r\n        element: '.ok-button'\r\n    }, {\r\n        type: 'click',\r\n        handler: closeWindow,\r\n        element: '.cancel-button'\r\n    }],\r\n};\r\n\r\nmodule.exports = settingsWindow;","import * as notepadWindowCSS from './notepad.scss';\r\n\r\nlet notepadWindowContent = document.createRange().createContextualFragment(`\r\n<textarea></textarea>\r\n`);\r\n\r\nlet notepadWindow = {\r\n    title: 'Notepad',\r\n    id: 'notepad',\r\n    content: notepadWindowContent,\r\n    customCSS: notepadWindowCSS,\r\n    size: {\r\n        height: '30%',\r\n        minHeight: '30%',\r\n    }\r\n};\r\n\r\nmodule.exports = notepadWindow;","import * as calculatorCSS from \"./calculator.scss\";\r\n\r\nlet calculatorWindowContent = document.createRange().createContextualFragment(`\r\n<div class=\"input-container\">\r\n    <input type=\"text\" id=\"calculator-input\" class=\"calc-input\">\r\n    <div class=\"history-checkbox-input\">\r\n        <input type=\"checkbox\" id=\"history-checkbox\" />\r\n        <label for=\"history-checkbox\">Show History</label>\r\n    </div>\r\n    <div class=\"button-rows\">\r\n        <div class=\"row-0 row\">\r\n            <button type=\"button\" class=\"button\" id=\"calc-del\">DEL</button>\r\n            <button type=\"button\" class=\"button\" id=\"calc-ce\">CE</button>\r\n            <button type=\"button\" class=\"button\" id=\"calc-c\">C</button>\r\n        </div>\r\n        <div class=\"row-1 row\">\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-1\">1</button>\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-2\">2</button>\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-3\">3</button>\r\n            <button type=\"button\" class=\"button operator-button\" data-operator=\"/\" id=\"calc-divide\">รท</button>\r\n        </div>\r\n        <div class=\"row-2 row\">\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-4\">4</button>\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-5\">5</button>\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-6\">6</button>\r\n            <button type=\"button\" class=\"button operator-button\" data-operator=\"*\" id=\"calc-multiply\">ร</button>\r\n        </div>\r\n        <div class=\"row-3 row\">\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-7\">7</button>\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-8\">8</button>\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-9\">9</button>\r\n            <button type=\"button\" class=\"button operator-button\" data-operator=\"-\" id=\"calc-sub\">-</button>\r\n        </div>\r\n        <div class=\"row-4 row\">\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-0\">0</button>\r\n            <button type=\"button\" class=\"button number-button\" id=\"calc-00\">00</button>\r\n            <button type=\"button\" class=\"button decimal-button\" id=\"calc-.\" style=\"width: 20%;\">.</button>\r\n            <button type=\"button\" class=\"button operator-button\" data-operator=\"+\" id=\"calc-add\">+</button>\r\n        </div>\r\n        <div class=\"row-5 row\">\r\n            <button type=\"button\" class=\"button\" id=\"calc-eq\">=</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"history-container\">\r\n    <textarea readonly id=\"history\"></textarea>\r\n</div>\r\n`);\r\n\r\nfunction calcKeyPress(e) {\r\n  if (window.State.focused_window_id === \"calculator\") {\r\n    console.log(e.key);\r\n\r\n    if (e.key === \".\") {\r\n      e.preventDefault();\r\n      document.getElementById(\"calc-.\").click();\r\n    }\r\n\r\n    let number_regex = new RegExp(/\\d/);\r\n    let is_number = number_regex.test(e.key);\r\n\r\n    let char_regex = new RegExp(/^[a-zA-Z]$/);\r\n    let is_char = char_regex.test(e.key);\r\n\r\n    let operator_regex = new RegExp(/^[\\+\\-\\/\\*]$/);\r\n    let is_operator = operator_regex.test(e.key);\r\n\r\n    if (\r\n      is_number &&\r\n      document.getElementById(\"calculator-input\") !== document.activeElement\r\n    ) {\r\n      document.querySelector(`#calc-${e.key}`).click();\r\n    }\r\n\r\n    if (is_operator) {\r\n      if (\r\n        document.getElementById(\"calculator-input\") === document.activeElement\r\n      ) {\r\n        e.preventDefault();\r\n      }\r\n      let key;\r\n      switch (e.key) {\r\n        case \"+\":\r\n          key = \"add\";\r\n          break;\r\n        case \"/\":\r\n          key = \"divide\";\r\n          break;\r\n        case \"-\":\r\n          key = \"sub\";\r\n          break;\r\n        case \"*\":\r\n          key = \"multiply\";\r\n          break;\r\n      }\r\n      document.querySelector(`#calc-${key}`).click();\r\n    }\r\n\r\n    if (\r\n      document.getElementById(\"calculator-input\") === document.activeElement &&\r\n      is_char\r\n    ) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    if (\r\n      (e.key === \"Backspace\" || e.key === \"Delete\") &&\r\n      document.getElementById(\"calculator-input\") !== document.activeElement\r\n    ) {\r\n      document.querySelector(`#calc-del`).click();\r\n    }\r\n\r\n    if (e.ctrlKey && e.key === \"a\") {\r\n      e.preventDefault();\r\n      document.getElementById(\"calculator-input\").select();\r\n    }\r\n\r\n    if (e.key === \"Enter\") {\r\n      document.querySelector(`#calc-eq`).click();\r\n    }\r\n\r\n    window.State.Calculator.lhs = document.getElementById(\r\n      \"calculator-input\"\r\n    ).value;\r\n  }\r\n}\r\n\r\nfunction buttonPress(e) {\r\n  if (\r\n    e.target.classList.contains(\"number-button\") ||\r\n    e.target.id === \"calc-.\"\r\n  ) {\r\n    if (\r\n      e.target.id === \"calc-.\" &&\r\n      document.getElementById(\"calculator-input\").value.indexOf(\".\") !== -1\r\n    ) {\r\n      return;\r\n    }\r\n    document.getElementById(\"calculator-input\").value += e.target.innerHTML;\r\n  }\r\n\r\n  if (e.target.id == \"calc-ce\") {\r\n    document.getElementById(\"calculator-input\").value = \"\";\r\n    window.State.Calculator.lhs = undefined;\r\n    window.State.Calculator.rhs = undefined;\r\n    window.State.Calculator.operation = undefined;\r\n  }\r\n\r\n  if (e.target.id == \"calc-c\") {\r\n    window.State.Calculator = {\r\n      lhs: undefined,\r\n      rhs: undefined,\r\n      operation: undefined,\r\n      history: [],\r\n    };\r\n    document.getElementById(\"calculator-input\").value = \"\";\r\n    updateHistory();\r\n  }\r\n\r\n  if (e.target.id == \"calc-del\") {\r\n    let current_value = document.getElementById(\"calculator-input\").value;\r\n    document.getElementById(\"calculator-input\").value = current_value.substring(\r\n      0,\r\n      current_value.length - 1\r\n    );\r\n  }\r\n\r\n  let lhs = window.State.Calculator.lhs;\r\n  let rhs = window.State.Calculator.rhs;\r\n  let operation = window.State.Calculator.operation;\r\n\r\n  if (e.target.classList.contains(\"operator-button\")) {\r\n    if (!rhs) {\r\n      window.State.Calculator.operation = e.target.dataset.operator;\r\n      window.State.Calculator.rhs = window.State.Calculator.lhs;\r\n      window.State.Calculator.lhs = undefined;\r\n      document.getElementById(\"calculator-input\").value = \"\";\r\n    } else {\r\n      startCalc();\r\n      window.State.Calculator.operation = e.target.dataset.operator;\r\n      window.State.Calculator.rhs = document.getElementById(\r\n        \"calculator-input\"\r\n      ).value;\r\n      window.State.lhs = undefined;\r\n      document.getElementById(\"calculator-input\").value = \"\";\r\n    }\r\n  }\r\n\r\n  if (e.target.id === \"calc-eq\") {\r\n    if (lhs && rhs && operation) {\r\n      let result = calculate(operation, lhs, rhs);\r\n      document.getElementById(\"calculator-input\").value = result;\r\n      window.State.Calculator.lhs = result;\r\n    }\r\n    return;\r\n  }\r\n\r\n  window.State.Calculator.lhs = document.getElementById(\r\n    \"calculator-input\"\r\n  ).value;\r\n}\r\n\r\nfunction startCalc() {\r\n  let lhs = window.State.Calculator.lhs;\r\n  let rhs = window.State.Calculator.rhs;\r\n  let operation = window.State.Calculator.operation;\r\n\r\n  let result = calculate(operation, lhs, rhs);\r\n  document.getElementById(\"calculator-input\").value = result;\r\n  window.State.Calculator.lhs = result;\r\n}\r\n\r\nfunction calculate(operation, lhs, rhs) {\r\n  let result;\r\n  lhs = parseFloat(lhs);\r\n  rhs = parseFloat(rhs);\r\n  switch (operation) {\r\n    case \"+\":\r\n      result = lhs + rhs;\r\n      break;\r\n    case \"-\":\r\n      result = rhs - lhs;\r\n      break;\r\n    case \"/\":\r\n      result = rhs / lhs;\r\n      break;\r\n    case \"*\":\r\n      result = lhs * rhs;\r\n      break;\r\n  }\r\n  result = result.toString().indexOf(\".\") !== -1 ? result.toFixed(3) : result;\r\n  window.State.Calculator.operation = undefined;\r\n  window.State.Calculator.lhs = undefined;\r\n  window.State.Calculator.rhs = undefined;\r\n  window.State.Calculator.history.push({\r\n    lhs,\r\n    rhs,\r\n    operation,\r\n    result,\r\n  });\r\n  updateHistory();\r\n  return result;\r\n}\r\n\r\nfunction updateHistory() {\r\n  document.getElementById(\"history\").innerHTML = \"\";\r\n  window.State.Calculator.history.forEach((calculation) => {\r\n    document.getElementById(\r\n      \"history\"\r\n    ).innerHTML += `${calculation.rhs}\\n${calculation.operation}\\t${calculation.lhs}\\n========\\n${calculation.result}\\n\\n`;\r\n  });\r\n}\r\n\r\nfunction onLoad() {\r\n  window.State.Calculator = {\r\n    operation: undefined,\r\n    lhs: undefined,\r\n    rhs: undefined,\r\n    history: [],\r\n  };\r\n\r\n  document.getElementById(\"calculator-input\").addEventListener(\"input\", (e) => {\r\n    window.State.Calculator.lhs = e.target.value;\r\n  });\r\n\r\n  document\r\n    .getElementById(\"history-checkbox\")\r\n    .addEventListener(\"change\", (e) => {\r\n      if (e.target.checked) {\r\n        document.getElementById(\"calculator\").classList.add(\"show-history\");\r\n      } else {\r\n        document.getElementById(\"calculator\").classList.remove(\"show-history\");\r\n      }\r\n    });\r\n}\r\n\r\nlet calculatorWindow = {\r\n  title: \"Calculator\",\r\n  id: \"calculator\",\r\n  content: calculatorWindowContent,\r\n  customCSS: calculatorCSS,\r\n  onLoadFunction: onLoad,\r\n  eventListeners: [\r\n    {\r\n      type: \"keydown\",\r\n      handler: calcKeyPress,\r\n      element: \"body\",\r\n    },\r\n    {\r\n      type: \"click\",\r\n      handler: buttonPress,\r\n    },\r\n  ],\r\n};\r\n\r\nmodule.exports = calculatorWindow;\r\n","const settingsWindow = require('./settings');\r\nconst notepadWindow = require('./notepad');\r\nconst calculatorWindow = require('./calculator');\r\n\r\nmodule.exports = {\r\n    settingsWindow,\r\n    notepadWindow,\r\n    calculatorWindow\r\n};"]}